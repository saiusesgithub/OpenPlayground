<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Harmonica JS - Professional Virtual Harmonica</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/harmonica.css">
</head>
<body>
    <!-- Background Animation -->
    <div class="background-animation">
        <div class="wave wave1"></div>
        <div class="wave wave2"></div>
        <div class="wave wave3"></div>
    </div>

    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <span class="logo-icon">üéµ</span>
                <h1 class="title">Harmonica JS</h1>
            </div>
            <p class="subtitle">Professional 10-Hole Diatonic Harmonica in C</p>
            <div class="version-badge">v2.0 Pro</div>
        </header>

        <!-- Main Control Dashboard -->
        <div class="control-dashboard">
            <!-- Playback Mode Section -->
            <div class="control-section">
                <h3 class="section-title">
                    <span class="icon">üéÆ</span>
                    Playing Mode
                </h3>
                <div class="mode-display">
                    <div class="mode-card blow-mode">
                        <div class="mode-icon-large">‚Üë</div>
                        <div class="mode-info">
                            <h4>Blow</h4>
                            <p>Arrow Up Key</p>
                        </div>
                        <div class="mode-indicator" id="blowIndicator"></div>
                    </div>
                    <div class="mode-card draw-mode">
                        <div class="mode-icon-large">‚Üì</div>
                        <div class="mode-info">
                            <h4>Draw</h4>
                            <p>Arrow Down Key</p>
                        </div>
                        <div class="mode-indicator" id="drawIndicator"></div>
                    </div>
                </div>
            </div>

            <!-- Audio Effects Section -->
            <div class="control-section">
                <h3 class="section-title">
                    <span class="icon">üéõÔ∏è</span>
                    Audio Effects
                </h3>
                <div class="effects-grid">
                    <div class="effect-card">
                        <div class="effect-header">
                            <span class="effect-name">Vibrato</span>
                            <label class="toggle-switch">
                                <input type="checkbox" id="vibratoToggle" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="effect-controls">
                            <label>Depth</label>
                            <input type="range" id="vibratoDepth" min="0" max="10" value="3" class="effect-slider">
                            <span class="effect-value" id="vibratoValue">3</span>
                        </div>
                        <div class="effect-controls">
                            <label>Speed</label>
                            <input type="range" id="vibratoSpeed" min="2" max="8" value="5" class="effect-slider">
                            <span class="effect-value" id="speedValue">5Hz</span>
                        </div>
                    </div>

                    <div class="effect-card">
                        <div class="effect-header">
                            <span class="effect-name">Pitch Bend</span>
                            <label class="toggle-switch">
                                <input type="checkbox" id="bendToggle" checked>
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="effect-controls">
                            <label>Range</label>
                            <input type="range" id="bendRange" min="0.1" max="2" step="0.1" value="0.5" class="effect-slider">
                            <span class="effect-value" id="bendValue">0.5</span>
                        </div>
                        <div class="bend-hint">
                            <kbd>Shift</kbd> + Play = Bend
                        </div>
                    </div>

                    <div class="effect-card">
                        <div class="effect-header">
                            <span class="effect-name">Reverb</span>
                            <label class="toggle-switch">
                                <input type="checkbox" id="reverbToggle">
                                <span class="toggle-slider"></span>
                            </label>
                        </div>
                        <div class="effect-controls">
                            <label>Mix</label>
                            <input type="range" id="reverbMix" min="0" max="100" value="30" class="effect-slider">
                            <span class="effect-value" id="reverbValue">30%</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Volume & Master Controls -->
            <div class="control-section">
                <h3 class="section-title">
                    <span class="icon">üîä</span>
                    Master Controls
                </h3>
                <div class="master-controls">
                    <div class="volume-control">
                        <div class="volume-label">
                            <span>Volume</span>
                            <span class="volume-value" id="volumeDisplay">70%</span>
                        </div>
                        <input type="range" id="volumeSlider" min="0" max="100" value="70" class="master-slider">
                        <div class="volume-markers">
                            <span>0</span>
                            <span>50</span>
                            <span>100</span>
                        </div>
                    </div>
                    <div class="waveform-selector">
                        <label>Waveform</label>
                        <select id="waveformSelect" class="styled-select">
                            <option value="triangle">Triangle (Harmonica)</option>
                            <option value="sine">Sine (Smooth)</option>
                            <option value="square">Square (Bright)</option>
                            <option value="sawtooth">Sawtooth (Rich)</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <!-- Harmonica Instrument -->
        <div class="harmonica-stage">
            <div class="stage-header">
                <h2>Virtual Harmonica</h2>
                <div class="tuning-badge">Standard C Richter Tuning</div>
            </div>
            
            <div class="harmonica-wrapper">
                <div class="harmonica" id="harmonica">
                    <!-- Generated by JavaScript -->
                </div>
            </div>

            <!-- Visual Feedback Panel -->
            <div class="feedback-panel">
                <div class="breath-visualizer">
                    <div class="visualizer-label">Breath Intensity</div>
                    <div class="breath-meter">
                        <div class="breath-fill" id="breathFill"></div>
                        <div class="breath-peak" id="breathPeak"></div>
                    </div>
                </div>

                <div class="frequency-display">
                    <div class="freq-label">Frequency</div>
                    <div class="freq-value" id="freqValue">‚Äî</div>
                    <div class="freq-unit">Hz</div>
                </div>

                <div class="waveform-display" id="waveformDisplay">
                    <canvas id="waveformCanvas" width="300" height="80"></canvas>
                </div>
            </div>
        </div>

        <!-- Interactive Guide -->
        <div class="interactive-guide">
            <div class="guide-section">
                <h3>üéπ Keyboard Controls</h3>
                <div class="controls-grid">
                    <div class="control-item">
                        <div class="key-combo">
                            <kbd>1</kbd><kbd>2</kbd><kbd>3</kbd><kbd>4</kbd><kbd>5</kbd>
                            <kbd>6</kbd><kbd>7</kbd><kbd>8</kbd><kbd>9</kbd><kbd>0</kbd>
                        </div>
                        <p>Select Holes 1-10</p>
                    </div>
                    <div class="control-item">
                        <div class="key-combo">
                            <kbd>‚Üë</kbd>
                        </div>
                        <p>Blow Note</p>
                    </div>
                    <div class="control-item">
                        <div class="key-combo">
                            <kbd>‚Üì</kbd>
                        </div>
                        <p>Draw Note</p>
                    </div>
                    <div class="control-item">
                        <div class="key-combo">
                            <kbd>Shift</kbd> + <kbd>‚Üë/‚Üì</kbd>
                        </div>
                        <p>Pitch Bend</p>
                    </div>
                    <div class="control-item">
                        <div class="key-combo">
                            <kbd>Space</kbd>
                        </div>
                        <p>Stop All</p>
                    </div>
                    <div class="control-item">
                        <div class="key-combo">
                            <kbd>Esc</kbd>
                        </div>
                        <p>Reset</p>
                    </div>
                </div>
            </div>

            <div class="guide-section">
                <h3>üéº Note Chart</h3>
                <div class="note-chart">
                    <div class="chart-row header">
                        <span>Hole</span>
                        <span>Blow ‚Üë</span>
                        <span>Draw ‚Üì</span>
                    </div>
                    <div class="chart-row" data-hole="1">
                        <span class="hole-num">1</span>
                        <span class="blow-note">C4</span>
                        <span class="draw-note">D4</span>
                    </div>
                    <div class="chart-row" data-hole="2">
                        <span class="hole-num">2</span>
                        <span class="blow-note">D4</span>
                        <span class="draw-note">E4</span>
                    </div>
                    <div class="chart-row" data-hole="3">
                        <span class="hole-num">3</span>
                        <span class="blow-note">E4</span>
                        <span class="draw-note">G4</span>
                    </div>
                    <div class="chart-row" data-hole="4">
                        <span class="hole-num">4</span>
                        <span class="blow-note">F4</span>
                        <span class="draw-note">G4</span>
                    </div>
                    <div class="chart-row" data-hole="5">
                        <span class="hole-num">5</span>
                        <span class="blow-note">G4</span>
                        <span class="draw-note">A4</span>
                    </div>
                    <div class="chart-row" data-hole="6">
                        <span class="hole-num">6</span>
                        <span class="blow-note">A4</span>
                        <span class="draw-note">B4</span>
                    </div>
                    <div class="chart-row" data-hole="7">
                        <span class="hole-num">7</span>
                        <span class="blow-note">B4</span>
                        <span class="draw-note">C5</span>
                    </div>
                    <div class="chart-row" data-hole="8">
                        <span class="hole-num">8</span>
                        <span class="blow-note">C5</span>
                        <span class="draw-note">D5</span>
                    </div>
                    <div class="chart-row" data-hole="9">
                        <span class="hole-num">9</span>
                        <span class="blow-note">D5</span>
                        <span class="draw-note">E5</span>
                    </div>
                    <div class="chart-row" data-hole="10">
                        <span class="hole-num">10</span>
                        <span class="blow-note">E5</span>
                        <span class="draw-note">G5</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Status Bar -->
        <div class="status-bar">
            <div class="status-group">
                <span class="status-icon">üéØ</span>
                <span class="status-label">Active Hole:</span>
                <span class="status-value" id="activeHole">‚Äî</span>
            </div>
            <div class="status-group">
                <span class="status-icon">üéµ</span>
                <span class="status-label">Note:</span>
                <span class="status-value" id="currentNote">‚Äî</span>
            </div>
            <div class="status-group">
                <span class="status-icon">üé¨</span>
                <span class="status-label">Mode:</span>
                <span class="status-value" id="currentMode">Ready</span>
            </div>
            <div class="status-group">
                <span class="status-icon">‚ö°</span>
                <span class="status-label">Status:</span>
                <span class="status-value" id="engineStatus">Initialized</span>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <p>Built with Web Audio API ‚Ä¢ No samples, pure synthesis</p>
            <p class="credit">Harmonica JS v2.0 - Professional Virtual Instrument</p>
        </footer>
    </div>

    <!-- JavaScript Modules -->
    <script src="js/constants.js"></script>
    <script src="js/audioEngine.js"></script>
    <script src="js/visualizer.js"></script>
    <script src="js/harmonicaUI.js"></script>
    <script src="js/controller.js"></script>
</body>
</html>